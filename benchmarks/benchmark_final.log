[0;34m=====================================================================[0m
[0;34m3-Way Database Performance Benchmark - Automated Test Harness[0m
[0;34m=====================================================================[0m

Configuration:
  Dataset size:    1000 vectors
  Vector dims:     1024
  Iterations:      10
  Skip setup:      false
  Skip teardown:   true

[1;33m[1/5] Starting benchmark infrastructure (PostgreSQL, IRIS, PGWire)...[0m
#1 [internal] load local bake definitions
#1 reading from stdin 390B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.37kB done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.11-slim
#3 ...

#4 [auth] library/python:pull token for registry-1.docker.io
#4 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.11-slim
#3 DONE 0.4s

#5 [internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [ 1/12] FROM docker.io/library/python:3.11-slim@sha256:9bffe4353b925a1656688797ebc68f9c525e79b1d377a764d232182a519eeec4
#6 resolve docker.io/library/python:3.11-slim@sha256:9bffe4353b925a1656688797ebc68f9c525e79b1d377a764d232182a519eeec4 done
#6 DONE 0.0s

#7 [internal] load build context
#7 transferring context: 4.62kB 0.2s done
#7 DONE 0.2s

#8 [ 4/12] RUN pip install uv
#8 CACHED

#9 [ 6/12] COPY examples/ ./examples/
#9 CACHED

#10 [ 7/12] COPY LICENSE ./
#10 CACHED

#11 [ 5/12] COPY src/ ./src/
#11 CACHED

#12 [10/12] RUN uv sync --frozen
#12 CACHED

#13 [ 2/12] WORKDIR /app
#13 CACHED

#14 [ 8/12] COPY README.md ./
#14 CACHED

#15 [ 9/12] COPY pyproject.toml uv.lock* ./
#15 CACHED

#16 [ 3/12] RUN apt-get update && apt-get install -y     gcc     g++     && rm -rf /var/lib/apt/lists/*
#16 CACHED

#17 [11/12] RUN useradd --create-home --shell /bin/bash pgwire
#17 CACHED

#18 [12/12] RUN chown -R pgwire:pgwire /app
#18 CACHED

#19 exporting to image
#19 exporting layers done
#19 exporting manifest sha256:4dd5ef32e5fded25d963cd816e7ce2590bd5c5a61dca02ff2ecc0b210f222baf done
#19 exporting config sha256:bce694fd816eecce161650e67cf2599b2f1fb3cf25b58c4f4433f4cdc00677a3 done
#19 exporting attestation manifest sha256:06409a4ceb4e6242ccebe51df7d65ed949d9e4a4523b6f7f25f42f12ed12f6b5 0.0s done
#19 exporting manifest list sha256:2e7c5f5ce5a63b388621c7bc7dbdc3f264d29d7276836d90fd8016618af07561 done
#19 naming to docker.io/library/benchmarks-pgwire-benchmark:latest done
#19 unpacking to docker.io/library/benchmarks-pgwire-benchmark:latest
#19 unpacking to docker.io/library/benchmarks-pgwire-benchmark:latest 1.4s done
#19 DONE 1.5s

#20 resolving provenance for metadata file
#20 DONE 0.0s
 pgwire-benchmark  Built
 Network benchmarks_benchmark-net  Creating
 Network benchmarks_benchmark-net  Created
 Container iris-benchmark  Creating
 Container postgres-benchmark  Creating
 Container iris-benchmark  Created
 Container pgwire-benchmark  Creating
 Container postgres-benchmark  Created
 Container pgwire-benchmark  Created
 Container iris-benchmark  Starting
 Container postgres-benchmark  Starting
 Container postgres-benchmark  Started
 Container iris-benchmark  Started
 Container iris-benchmark  Waiting
 Container iris-benchmark  Healthy
 Container pgwire-benchmark  Starting
 Container pgwire-benchmark  Started

[1;33m[2/5] Waiting for all services to be healthy...[0m
  Waiting for PostgreSQL...
  [0;32mâœ“ PostgreSQL is ready[0m
  Enabling pgvector extension...
  [0;32mâœ“ pgvector extension enabled[0m
  Waiting for IRIS...
  [0;32mâœ“ IRIS is ready[0m
  Resetting IRIS password...
  [0;32mâœ“ IRIS password configured[0m
  Waiting for PGWire server...
  [0;32mâœ“ PGWire server is ready[0m

[1;33m[3/5] Validating database connections...[0m
Validating database connections...

âœ… IRIS + PGWire connection successful (localhost:5432)
âœ… PostgreSQL + psycopg3 connection successful (localhost:5433)
âœ… IRIS + DBAPI connection successful (localhost:1972)

All three database methods ready for benchmarking.

[1;33m[4/5] Populating databases with test data...[0m
./run_benchmark.sh: line 173: 51419 Terminated: 15          python3 benchmarks/test_data/setup_databases.py --dataset-size "$DATASET_SIZE" --dimensions "$VECTOR_DIMS" --seed 42
